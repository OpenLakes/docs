{% extends "base.html" %}

{% block extrahead %}
  {{ super() }}
  <script defer data-domain="docs.openlakes.io" data-api="https://plausible.openlakes.io/api/event" src="https://plausible.openlakes.io/js/script.js"></script>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script>
    (function () {
      var homepage = '{{ config.site_url or (nav.homepage.url | url if nav and nav.homepage else "/") }}';
      var applyHomepage = function () {
        document.querySelectorAll('[data-md-component="logo"]').forEach(function (logo) {
          logo.setAttribute('href', homepage);
        });
      };

      document.addEventListener('DOMContentLoaded', applyHomepage);

      if (window.document$ && typeof document$.subscribe === 'function') {
        document$.subscribe(applyHomepage);
      }
    })();
  </script>
{% endblock %}
